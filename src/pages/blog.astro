---
import BlogPost from '@components/BlogPost.astro'
import '../styles/global.css'
import BaseLayout from '@layouts/BaseLayout.astro'

export interface PostFrontmatter {
  title: string
  author: string
  description: string
  image: {
    url: string
    alt: string
  }
  pubDate: string
  tags: string[]
}

const allPosts = await Astro.glob<PostFrontmatter>('./posts/*.md')

const pageTitle = 'My Astro Learning Blog'
---

<BaseLayout pageTitle={pageTitle}>
  <ul>
    {
      allPosts.map(post => (
        <BlogPost
          url={post.url || '/'}
          title={post.frontmatter.title}
        />
      ))
    }
  </ul>
</BaseLayout>
